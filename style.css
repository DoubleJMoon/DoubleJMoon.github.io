:root{
  --accent:#a855f7;
  --bg:#071021;
  --card:#0f1724;
  --text:#e6eef8;
  --muted:#9aa9c6;
  --btnBg: transparent;
}
body.light{
  --accent:#6366f1;
  --bg:#f5f7fb;
  --card:#ffffff;
  --text:#0b1220;
  --muted:#6b7280;
}
body{
  margin:0;padding:20px;font-family:"Noto Sans KR","Segoe UI",system-ui,Roboto,-apple-system;
  background:var(--bg);color:var(--text);transition:all .2s ease;
}
.wrap{max-width:1200px;margin:0 auto}
.header{display:flex;justify-content:space-between;align-items:center;gap:12px;flex-wrap:wrap}
h1{margin:0;color:var(--accent);font-size:20px}
.controls{display:flex;gap:0.6rem;align-items:center;flex-wrap:wrap;margin:12px 0}
label.file-btn, button {
  display:inline-flex;align-items:center;gap:8px;padding:8px 12px;border-radius:10px;border:1px solid var(--accent);
  background:var(--btnBg);color:var(--accent);cursor:pointer;font-weight:700;transition:all .12s ease;
}
label.file-btn:hover, button:hover{background:var(--accent);color:var(--bg)}
label.file-btn input[type="file"]{display:none}
.file-name{font-size:13px;color:var(--muted);opacity:0.9}
.file-list{display:flex;flex-wrap:wrap;gap:14px;margin-top:12px}
.card{background:var(--card);border-radius:12px;padding:12px;width:340px;box-shadow:0 8px 30px rgba(0,0,0,0.45);display:flex;flex-direction:column;gap:8px;transition:outline .2s ease}
.card .titleRow{display:flex;gap:8px;align-items:center;justify-content:space-between}
.card input.cardTitle{background:transparent;border:1px dashed rgba(255,255,255,0.06);padding:6px;border-radius:8px;color:var(--text);font-weight:700;width:65%}
.card .meta{display:flex;gap:8px;align-items:center;justify-content:space-between}
.card textarea{width:95%;height:120px;resize:vertical;background:transparent;color:var(--text);border:1px solid rgba(255,255,255,0.04);border-radius:8px;padding:8px;font-size:13px;resize:none;}
.card .slots{display:flex;gap:8px;flex-wrap:wrap;align-items:center}
.slot{min-width:78px;flex:1;padding:8px;border-radius:8px;background:rgba(255,255,255,0.02);text-align:center;font-weight:700;min-height:44px;display:flex;align-items:center;justify-content:center}
.slot.anim{box-shadow:0 8px 18px rgba(0,0,0,0.45);transform:translateY(-4px);transition:transform .12s;animation: slotSpin 0.4s ease-in-out;}
@keyframes slotSpin{
  0%{transform: translateY(0); opacity:1;}
  50%{transform: translateY(-10px); opacity:0.5;}
  100%{transform: translateY(0); opacity:1;}
}
.result{margin-top:6px;padding:8px;border-radius:8px;background:linear-gradient(90deg,rgba(168,85,247,0.12),transparent);font-weight:700;text-align:center;min-height:28px}
.history{font-size:12px;color:var(--muted);background:rgba(255,255,255,0.03);padding:8px;border-radius:8px;max-height:86px;overflow:auto}
#allResults{margin-top:20px;padding:12px;border-top:2px solid var(--accent);border-radius:8px;background:transparent}
#allResults h3{margin:0 0 8px 0}
.footer{margin-top:18px;color:var(--muted);font-size:13px;display:flex;justify-content:space-between;flex-wrap:wrap}
.smallGhost{background:transparent;border:1px solid rgba(255,255,255,0.06);padding:6px 8px;border-radius:8px;color:var(--text);cursor:pointer}
@media(max-width:820px){.card{width:100%}}

/* 다크 모드 input/textarea */
body:not(.light) .card textarea,
body:not(.light) .card input {
  background: #0f1724; /* 카드 배경과 유사하게 */
  color: #e6eef8;      /* 텍스트 밝게 */
  border: 1px solid rgba(255,255,255,0.06);
  outline-color: rgba(255,255,255,0.3);
}

/* 다크 모드 number input */
body:not(.light) .card input[type="number"] {
  background: #0f1724;
  color: #e6eef8;
  border: 1px solid rgba(255,255,255,0.06);
}

/* 라이트 모드 textarea 테두리 검정 */
body.light .card textarea {
  border-color: #000;
  outline-color: #000;
  color: #0b1220;
  background: #fff;
}